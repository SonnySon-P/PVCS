# Simple Personal Version Control Software

基於Golang開發一套簡單個人版本控制軟體。

## 壹、基本說明
**一、動機：**
在較為規模化的程式開發過程中，往往需要經歷多次的修改與調整。每一次的變動和優化，都會衍生出不同版本的程式碼，而這些版本不僅僅是程式演進的標記，更承載著重要的歷史意義。每個版本的保存，不僅有助於記錄開發過程中的每一步，更能在需要的時候，恢復某個時期的重要資訊或設定，為後續的修改提供參考與依據。曾經，我對市面上各式各樣的版本控制軟體如何運作抱有許多疑問，也渴望能深入理解其中的精髓與細節。透過這次的寫作，我期望能夠徹底掌握這些工具的運作機制，並從中獲得更多的洞察與技巧。

**二、目標：**
本程式旨在模擬本地端Git的基本功能，提供一個簡單直觀的版本控制系統。它將實現多種常見的版本控制操作，讓使用者能夠輕鬆管理程式碼或文件的版本歷史。除了提供上述功能外，本程式還將利用版本差異比較的技術來實現精簡的版本儲存。透過比較不同版本之間的變更，僅儲存版本之間的差異，而非每個版本的完整內容，從而達到 節省儲存空間 的目的。這種基於差異的版本管理方式，能有效提升版本控制的效率，特別是在多次提交和頻繁變更的情境下。
<br>

**三、功能說明：**
新增（Add）：用戶可以將新創建或修改過的檔案新增至版本控制系統，準備進行提交（Commit）。
刪除（Delete）：提供刪除檔案的功能，並將檔案的刪除狀態更新至版本控制系統。
提交（Commit）：當檔案的內容有所變動時，使用者可以將這些變更提交到版本控制系統中，並附加提交訊息以描述變更內容。
狀態（Status）：用戶可以查看當前工作區的狀態，了解哪些檔案已經被修改、哪些檔案處於待提交狀態，從而有助於做出後續的操作決策。
日誌（Log）：此功能將顯示版本控制系統的歷史紀錄，並列出每次提交的詳細資訊，包括提交時間、作者、提交訊息等，幫助使用者追蹤和回顧版本演變的過程。
簽出（Checkout）：用戶可以切換到指定的版本或分支，恢復到某個特定時間點的程式碼狀態，這對於版本回溯和錯誤修復至關重要。
建立分支（Create Branch）：支持在當前版本的基礎上創建新的分支，允許用戶在獨立的分支上進行開發，從而避免對主分支的影響。
簽出分支（Checkout Branch）：在多分支的開發過程中，使用者可以快速切換至不同的分支，便於開展並行的開發工作。
合併（Merge）：當不同分支之間的開發工作完成後，使用者可以將其合併回主分支或其他分支，從而整合不同的開發成果。

**二、開發環境：**
以下是開發該平台所採用的環境：
* 虛擬機：Docker
* 映像檔：golang
* 程式語言：Golang
* 程式編輯器：Visual Studio Code

**三、檔案說明：** 
此專案檔案（指coding這個資料夾）主要分為兩個資料夾：nodejs和tests。其中，nodejs資料夾為後端平台的主要程式碼，tests資料夾則存放使用jest框架進行的單元測試。接下來將對各資料夾中的檔案內容進行詳細說明。
```bash
.
├── LICENSE
├── README.md
├── go.mod
├── main.go  # 主程式
└──  vcs
      └── vcs.go  # 各功能副程式
```

**四、開發理念：**
其開發理念，靈感來自於對 Git 操作方式的模仿與借鑒。整體設計從資料夾規劃開始，使用者首先會在一個指定的工作區資料夾中進行開發，這個區域是開發者進行程式碼編寫、文件編輯等工作的核心場所。除此之外，還設有一個暫存區，當開發者準備將檔案納入版本控制時，檔案將會先進入此區域，等待最終提交。最後是歷史區，它保存著所有已提交的版本檔案，記錄著每次提交的詳細歷程。在這個區域，每個分支及版本都有各自獨立的資料夾，裡面不僅包含了具體的版本內容，還詳列了提交的相關資訊，讓每一次的開發變更都能夠清楚、可追溯。

## 貳、操作說明
**一、安裝程式方式：** 
將一個編譯好的執行檔放置到`bin`資料夾並設置好環境路徑，步驟如下：
***步驟1: 編譯Golang，生成一個名為`vcs`的執行檔。
```bash
go build -o vcs main.go
```

***步驟 2: 將執行檔放到`bin`資料夾
請在UNIX類系統(如Linux或macOS)中，將執行檔放到`/usr/local/bin`或`~/bin` 通常是用來存放可執行檔的目錄。
```bash
mkdir -p ~/bin
mv vcs ~/bin/
```

***步驟 3: 設置環境路徑
接下來，您需要設置您的環境變數，使得系統可以找到您放置的`bin`資料夾。使得可以在任何地方執行`vcs`。

1. 開啟`.bashrc`或`.zshrc`配置檔(取決於您使用的 shell)，如果使用的是`bash`，需要編輯`~/.bashrc`文件；如果使用的是`zsh`，則是`~/.zshrc`文件。
```bash
nano ~/.bashrc  # 如果是 bash
# 或者
nano ~/.zshrc   # 如果是 zsh
```

2. 添加`bin`資料夾到`$PATH`，在配置文件中，加入以下一行：
```bash
export PATH=$PATH:~/bin
```

**二、運行程式方式：**
```bash
vcs init  # 初始化與設定版本控制
vcs add <filename>  #  將檔案新增至暫存區
vcs commit <filename> <filename>  # 提交文件
vcs log  # 查詢目前分支，所有版本的資訊
vcs status  # 查詢目前分支暫存區檔案的狀況
vcs checkout <version number>  # 切換目前分支下的版本
vcs create-branch <branch name>  # 創建新的分支
vcs checkout-branch <branch name>  # 切換不同的分支
vcs merge <target branch name> <source branch name>  # 合併分支
```

**三、運行程式結果：** 專案資料夾結構應該像這樣：
```bash
repoDir(工作區)
  ├── filesDir(暫存區)
  └── historyDir(提交區)
        ├── main
        └── branch
              ├── version_1
              ├── version_2
              └── version_3
              
```

## 參、建議
**反思：** 若能在此基礎上增加版本間差異比較，每個版本僅存放修改部分的內容，則可大幅稍減儲存容量，進一步提升該專案的實用性與價值。
